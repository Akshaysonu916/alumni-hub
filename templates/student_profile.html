{% extends "home.html" %}
{% block content %}
{% include 'navbar.html' %}
<div class="container mx-auto p-6">
    <div class="bg-white shadow-lg rounded-lg p-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Student Profile</h2>
        <div class="flex items-center space-x-6">
            <img class="w-24 h-24 rounded-full border-2 border-blue-500 shadow-lg" 
                 src="{{ user.profile.image.url }}" 
                 alt="Profile Picture">
            <div>
                <p class="text-lg font-semibold">{{ profile.user.username }}</p>
                <p class="text-gray-600">Major: {{ profile.major }}</p>
                <p class="text-gray-600">Enrollment Year: {{ profile.enrollment_year }}</p>
                {% if profile.resume %}
                    <p><a href="{{ profile.resume.url }}" class="text-blue-500">View Resume</a></p>
                {% endif %}
            </div>
        </div>
        <div class="mt-4">
            <a href="{% url 'edit_profile' %}" class="bg-blue-600 text-white px-4 py-2 rounded-md">Edit Profile</a>
            <a href="{% url 'signout' %}" class="bg-red-600 text-white px-4 py-2 rounded-md">Sign Out</a>
        </div>
    </div>
</div>

<!-- Skills Section -->
<div class="bg-white shadow-lg rounded-lg p-6 mt-6">
    <h3 class="text-xl font-semibold text-gray-800 mb-4">Skills</h3>
    {% if profile.user.skills.all %}
        <div class="space-y-4">
            {% for skill in profile.user.skills.all %}
                <div>
                    <div class="flex justify-between mb-1">
                        <span class="text-gray-700 font-medium">{{ skill.name }}</span>
                        <span class="text-gray-500">{{ skill.proficiency }}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4">
                        <div class="bg-green-500 h-4 rounded-full" style="width: {{ skill.proficiency }}%;"></div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-500">No skills added yet.</p>
    {% endif %}
</div>
</div>
{% endblock %}